/*
 * Name: Jeff Spacek
 * Date: Winter 2026
 * Description:
 * This program is a demonstration of recursion by
 * drawing 3d triangles around the superclass triangle.
 * Triangles_Recursion is a sub-class
 * of the triangle class. 
 */

package assignment_01;

import java.awt.Color;
import java.awt.Graphics;
import java.util.Random;

public class Triangles_Recursion extends triangle {

	// used to generate random colors
	private static Random rand = new Random();

	Triangles_Recursion(int screenWidth, int screenHeight, int howManyStars, int starSize) {
		super(screenWidth, screenHeight, howManyStars, starSize);
	}

	// method for drawing recursive triangles
	@Override
	public void drawTriangle(Graphics g, int tx, int ty, int size, int angle) {

		// fail safe: stop recursion when triangle is too small
		if (size < 5) {
			return;
		}

		// generate a random color for this triangle
		int R = rand.nextInt(255);
		int G = rand.nextInt(255);
		int B = rand.nextInt(255);

		//
		g.setColor(new Color(R, G, B));

		// call recursive design(s) method (03 because triangle)
		design_03(g, tx, ty, size, angle);
	}

	private void design_03(Graphics g, int tx, int ty, int size, int angle) {

		// draws the triangle from triangle class
		super.drawTriangle(g, tx, ty, size, angle);

		// smaller triangles section
		// create three smaller triangles around the super-class triangle
		for (int i = 0; i < 3; i++) {

			// calculate rotation angle for each child triangle
			double ang = 2 * Math.PI * i / 3;
			ang += Math.PI * angle / 60;

			// initialize coordinates for the
			int xCoords = 0;
			int yCoords = 0;

			// trigonometry to position each small triangle
			// commented out for fun cool effect
			xCoords += (int) (size * Math.cos(ang));
			yCoords += (int) (size * Math.sin(ang));

			// offset the position relative to the parent triangle
			xCoords += tx;
			yCoords += ty;

			// recursive call with reduced size to continue the pattern
			this.drawTriangle(g, xCoords, yCoords, size / 2, angle);
		}
	}
}